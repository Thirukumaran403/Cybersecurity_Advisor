<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Shield</title>
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
  <style>
    body {
      background-image: url('https://i.pinimg.com/736x/2f/b5/44/2fb54499563c33ab21fd3bc7a44bb165.jpg');
      background-size: cover;
      background-position: center;
      background-repeat: no-repeat;
    }

    .glass {
      background: rgba(233, 234, 237, 0.75);
      backdrop-filter: blur(12px);
      border: 1px solid rgba(255, 255, 255, 0.1);
    }

    ::placeholder {
      color: #9ca3af;
    }
  </style>
</head>
<body class="text-white h-screen flex flex-col items-center justify-center p-4">
  <div class="w-full max-w-2xl glass p-6 rounded-xl shadow-lg">
    <h1 class="text-4xl font-bold text-center mb-6 text-red-400">S.H.E.I.L.Düõ°Ô∏è</h1>
    <div id="response-box" class="bg-gray-800 bg-opacity-50 w-full h-96 overflow-y-auto p-4 rounded-lg mb-4 shadow-inner space-y-2 text-sm">
      
    </div>
    <form id="response-form" class="flex">
      <input id="scenario-input" type="text" placeholder="Describe a suspicious or dangerous incident..." class="flex-1 p-3 rounded-l-lg text-black focus:outline-none" required>
      <button type="submit" class="bg-red-600 hover:bg-red-700 px-4 py-2 rounded-r-lg font-semibold">Analyze</button>
    </form>
  </div>

  <script>
    const responseBox = document.getElementById('response-box');
    const form = document.getElementById('response-form');
    const input = document.getElementById('scenario-input');

    form.addEventListener('submit', async (e) => {
      e.preventDefault();
      const message = input.value.trim();
      if (!message) return;

      responseBox.innerHTML += `<div><strong class="text-red-300">You:</strong> ${message}</div>`;
      input.value = "";
      responseBox.scrollTop = responseBox.scrollHeight;

      try {
        const res = await fetch('/action-bot', {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify({ message })
        });

        const data = await res.json();
        responseBox.innerHTML += `<div><strong class="text-green-400">Bot:</strong> ${data.reply}</div>`;
      } catch (err) {
        responseBox.innerHTML += `<div class="text-red-400">Bot: Unable to process your request at the moment.</div>`;
      }

      responseBox.scrollTop = responseBox.scrollHeight;
    });
  </script>
</body>
</html>
