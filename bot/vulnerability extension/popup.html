<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Website Vulnerability Checker</title>
  <link rel="stylesheet" href="popup.css">
</head>
<body>
  <h1>Website Vulnerability Checker</h1>
  <p id="status">Checking website...</p>
  <button id="checkButton">Check Website</button>
  <input type="text" id="queryInput" placeholder="Ask a question..." />
  <button id="askButton">Ask</button>
  
  <script>
    document.getElementById('checkButton').onclick = function() {
      chrome.tabs.query({ active: true, currentWindow: true }, function(tabs) {
        chrome.runtime.sendMessage({ action: 'check_website', url: tabs[0].url }, function(vulnerabilities) {
          const status = vulnerabilities.length === 0 ? "Website is Safe!" : `Vulnerabilities: ${vulnerabilities.join(', ')}`;
          document.getElementById('status').textContent = status;
        });
      });
    };

    document.getElementById('askButton').onclick = function() {
      const query = document.getElementById('queryInput').value;
      alert(`Your query: ${query} has been noted! We'll try to answer it soon.`);
    };
  </script>
</body>
</html>
